(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f836b30"],{"0259":function(e,a,n){"use strict";n.r(a);n("433b");var t=n("d399"),u=(n("47e2"),n("2241")),l=(n("ac1f"),n("5319"),n("4160"),n("d3b7"),n("159b"),n("00b4"),n("7a23")),c=n("c24f"),o=n("6c02"),r={style:{margin:"16px"}},b=Object(l["l"])(" 提交资料 "),d={setup:function(e){var a,n=Object(o["f"])(),d=(Object(o["e"])(),function(){return n.go(-1)}),m=JSON.parse(localStorage.getItem("userInfo")),i=Object(l["J"])([]),s=Object(l["J"])([]),v=Object(l["J"])(!1),f=Object(l["J"])({bankName:"",bankId:"",subbranchName:"",accountName:"",bankCardNumber:"",checkBankCardNumber:"",moneyPassword:"",userId:m.id}),O=function(e){f.value.bankName=e.bank_name,f.value.bankId=e.id,v.value=!1};Object(c["q"])({id:null===(a=JSON.parse(localStorage.getItem("userInfo")))||void 0===a?void 0:a.id}).then((function(e){200===e.code&&(m.value=e.data,e.data.is_password||u["a"].alert({message:"您尚未设置资金密码,请前往设置"}).then((function(){n.replace("/editpassword")})))})),Object(c["h"])({userId:m.id}).then((function(e){200===e.code&&(i.value=e.data)})),Object(c["g"])().then((function(e){200===e.code&&(e.data.forEach((function(e){e.text=e.bank_name,e.value=e.id})),s.value=e.data)}));var j=/^\d{16,}$/,k=function(){return f.value.accountName?(console.log(f),j.test(f.value.bankCardNumber)&&j.test(f.value.checkBankCardNumber)?f.value.bankCardNumber&&f.value.checkBankCardNumber?f.value.moneyPassword?f.value.accountName!==m.actual_name?Object(t["a"])("开户人必须和真实姓名一致"):void Object(c["b"])(f.value).then((function(e){if(200===!e.code)return Object(t["a"])(e.message);Object(t["a"])({message:e.message,onClose:function(){n.go(-1)}})})):Object(t["a"])("请输入资金密码"):Object(t["a"])("请输入银行卡号"):Object(t["a"])("银行卡号格式不对")):Object(t["a"])("请输入真实姓名")};return function(e,a){var n=Object(l["L"])("van-nav-bar"),t=Object(l["L"])("van-field"),u=Object(l["L"])("van-cell-group"),c=Object(l["L"])("van-button"),o=Object(l["L"])("van-form"),m=Object(l["L"])("van-picker"),i=Object(l["L"])("van-popup");return Object(l["E"])(),Object(l["i"])("div",null,[Object(l["m"])(n,{title:"添加银行卡信息","left-arrow":"",onClickLeft:d}),Object(l["m"])(o,{onSubmit:k},{default:Object(l["V"])((function(){return[Object(l["m"])(u,null,{default:Object(l["V"])((function(){return[Object(l["m"])(t,{modelValue:f.value.bankName,"onUpdate:modelValue":a[0]||(a[0]=function(e){return f.value.bankName=e}),name:"bankName","is-link":"",readonly:"",label:"开户银行",placeholder:"请选择绑定的账户类型",onClick:a[1]||(a[1]=function(e){return v.value=!0})},null,8,["modelValue"]),Object(l["m"])(t,{modelValue:f.value.subbranchName,"onUpdate:modelValue":a[2]||(a[2]=function(e){return f.value.subbranchName=e}),name:"subbranchName",label:"开户支行",placeholder:"开户支行名称"},null,8,["modelValue"]),Object(l["m"])(t,{modelValue:f.value.accountName,"onUpdate:modelValue":a[3]||(a[3]=function(e){return f.value.accountName=e}),name:"accountName",label:"开户人",placeholder:"开户人必须是实名, 才可以兑换到账"},null,8,["modelValue"]),Object(l["m"])(t,{modelValue:f.value.bankCardNumber,"onUpdate:modelValue":a[4]||(a[4]=function(e){return f.value.bankCardNumber=e}),name:"bankCardNumber",label:"银行卡号",placeholder:"请输入银行卡号"},null,8,["modelValue"]),Object(l["m"])(t,{modelValue:f.value.checkBankCardNumber,"onUpdate:modelValue":a[5]||(a[5]=function(e){return f.value.checkBankCardNumber=e}),name:"checkBankCardNumber",label:"确认银行卡号",placeholder:"再次输入银行卡号"},null,8,["modelValue"]),Object(l["m"])(t,{modelValue:f.value.moneyPassword,"onUpdate:modelValue":a[6]||(a[6]=function(e){return f.value.moneyPassword=e}),type:"password",name:"moneyPassword",label:"资金密码",placeholder:"请输入资金密码"},null,8,["modelValue"])]})),_:1}),Object(l["j"])("div",r,[Object(l["m"])(c,{round:"",block:"",type:"primary",onClick:k},{default:Object(l["V"])((function(){return[b]})),_:1})])]})),_:1}),Object(l["m"])(i,{show:v.value,"onUpdate:show":a[8]||(a[8]=function(e){return v.value=e}),position:"bottom"},{default:Object(l["V"])((function(){return[Object(l["m"])(m,{columns:s.value,onConfirm:O,onCancel:a[7]||(a[7]=function(e){return v.value=!1})},null,8,["columns"])]})),_:1},8,["show"])])}}},m=(n("4f88"),n("d959")),i=n.n(m);const s=i()(d,[["__scopeId","data-v-2e752843"]]);a["default"]=s},"4f88":function(e,a,n){"use strict";n("c624")},c624:function(e,a,n){}}]);